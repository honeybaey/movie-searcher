(this["webpackJsonpmovie-searcher"]=this["webpackJsonpmovie-searcher"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(8),i=n.n(c),o=(n(14),n(15),n(2)),s=n(3),u=n(5),l=n(4),m=(n(16),function(){return a.a.createElement("header",{className:"header"},a.a.createElement("div",null,"Movie Searcher"))}),f=(n(17),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={query:""},e.onEnterName=function(t){e.setState({query:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.onSearchPerson(e.state.query),e.setState({query:""})},e}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("form",{className:"search-form",onSubmit:this.onSubmit},a.a.createElement("input",{type:"text",className:"search-form__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",onChange:this.onEnterName,value:this.state.query}))}}]),n}(r.Component)),h=n(1),p=n.n(h),v=n(6),d=function(){function e(){Object(o.a)(this,e),this._apiKey="9000047236c3b4a86957e392cead86b6",this._baseURL="https://api.themoviedb.org/3"}return Object(s.a)(e,[{key:"getResource",value:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._baseURL).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Couldn't fetch ".concat(t,", received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFilm",value:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/movie/".concat(t,"?api_key=").concat(this._apiKey,"&language=ru-RU"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPerson",value:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/search/person?api_key=".concat(this._apiKey,"&language=ru-RU&query=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.results);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=(n(19),function(e){var t=e.title,n=e.img;return a.a.createElement("div",{className:"movie-card"},a.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(n),alt:t}),a.a.createElement("p",{className:"movie-card__title"},t))}),b=(n(20),function(e){return a.a.createElement("div",{className:"movie-list"},e.films.map((function(e){return a.a.createElement(E,Object.assign({key:e.title},e))})))}),y=(n(21),function(){return a.a.createElement("div",{className:"about"},a.a.createElement("p",null,"\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u043e\u043f-3 \u0444\u0438\u043b\u044c\u043c\u0430, \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0441\u0442\u0430\u043b \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u0435\u043d \u0430\u043a\u0442\u0435\u0440 \u0438\u043b\u0438 \u0440\u0435\u0436\u0438\u0441\u0441\u0435\u0440"))}),g=(n(22),function(){return a.a.createElement("div",{className:"error-indicator"},a.a.createElement("span",null,"\u0423\u043f\u0441!"),a.a.createElement("span",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),a.a.createElement("span",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u0435\u0449\u0435 \u0440\u0430\u0437"))}),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).movieService=new d,e.state={films:[],isLoaded:!1,error:!1},e.onError=function(t){e.setState({error:!0})},e.searchPerson=function(t){e.movieService.getPerson(t).then((function(t){var n=t[0].known_for,r=[];n.forEach((function(e){r.push({title:e.title,img:e.poster_path})})),e.setState({films:r,isLoaded:!0})})).catch(e.onError)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.films,r=e.error;return a.a.createElement("div",null,a.a.createElement(m,null),r?a.a.createElement(g,null):a.a.createElement("div",{className:"container"},a.a.createElement(f,{onSearchPerson:this.searchPerson}),t?null:a.a.createElement(y,null),a.a.createElement(b,{films:n})))}}]),n}(r.Component);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(k,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.0fb16529.chunk.js.map